function I(O){return class extends O{_cycles=[];_namedCycles={};lazyload=!1;loaded=!1;constructor(...h){super(...h)}connectedCallback(){if(this.lazyload){const h=new IntersectionObserver((_)=>{_.forEach((B)=>{if(B.isIntersecting)this.initComponent(),h.unobserve(this)})},{threshold:0.1});h.observe(this);return}setTimeout(()=>this.initComponent(),1)}disconnectedCallback(){if(this.loaded)this.onDestroy?.(),this.clearCycles?.()}initComponent(){if(this.loaded=!0,this.start?.(),this.a_onclick)this.addEventListener("click",this.a_onclick);if(this.a_onsubmit)this.addEventListener("submit",this.a_onsubmit);if(this.a_onchange)this.addEventListener("change",this.a_onchange)}stateSubscribe(h,_){this.cycle(()=>h(_))}cycle(h){let _=h();if(_ instanceof Promise)_.then((B)=>this._cycles.push(B));else this._cycles.push(_)}clearCycles(){this._cycles.map((_)=>{const B=_();if(B instanceof Promise)B.then(()=>null)}),Object.keys(this._namedCycles).forEach((_)=>{const B=this._namedCycles[_]();if(B instanceof Promise)B.then(()=>null)}),this._cycles=[],this._namedCycles={}}namedCycle(h,_){if(this._namedCycles[h]){const P=this._namedCycles[h]();if(P instanceof Promise)P.then(()=>null)}let B=_();if(B instanceof Promise)B.then((P)=>this._namedCycles[h]=P);else this._namedCycles[h]=B}static logger(...h){console.info("[NOT IMPLEMENTED]",...h)}logger(...h){console.info(`[${this.tagName}]`,...h)}}}var Q=I(HTMLElement);var F=function(O,h,_="ram"){const B={};let P=_==="ram"?O:G(h,O,_);function G(j,q,z){if(!j)return q;const E=(z==="local"?localStorage:sessionStorage).getItem(j);return E?JSON.parse(E):q}function H(j,q,z){if(z==="ram"||!j)return;(z==="local"?localStorage:sessionStorage).setItem(j,JSON.stringify(q))}return{get:()=>P,set:(j)=>{const q=P;P=j,H(h,j,_),Object.values(B).forEach((z)=>z(P,q))},subscribe:(j)=>{const q=Math.random().toString(36).substring(2,9);return B[q]=j,j(P,P),()=>{delete B[q]}}}};function X(O){return F(O)}function Y(O,h,_){return F(h,O,_)}function J(O,h,_){customElements.define(O,h,_)}function $(O,h){return function(_){J(O,_,h)}}function D(O){return function(h,_){Object.defineProperty(h,_,{get:function(){return this.dataset?this.dataset[O||_]:null},set:function(B){const P=()=>{if(this.isConnected&&this.dataset)this.dataset[O||_]=B;else setTimeout(P,0)};P()}})}}function A(O){return function(h,_){Object.defineProperty(h,_,{get:function(){return this.querySelector(O)},set:function(){}})}}export{X as useAtomixState,Y as useAtomixBrowserState,A as query,I as makeAtomixComponent,J as defineWebComponent,D as dataset,$ as WebComponent,Q as Component};

//# debugId=BA1A6508CFE2E14D64756e2164756e21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2F0b21peENvbXBvbmVudC50cyIsICJzcmMvYXRvbWl4U3RhdGUudHMiLCAic3JjL3dlYmNvbXBvbmVudHMudHMiLCAic3JjL2RlY29yYXRvcnMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbCiAgICAiaW1wb3J0IHsgdHlwZSBBZGRDeWNsZUZuIH0gZnJvbSBcIi4vY3ljbGVcIjtcblxuZXhwb3J0IGNvbnN0IENvbXBvbmVudCA9IG1ha2VBdG9taXhDb21wb25lbnQoSFRNTEVsZW1lbnQpO1xuZXhwb3J0IHR5cGUgQ29tcG9uZW50VHlwZSA9IEluc3RhbmNlVHlwZTx0eXBlb2YgQ29tcG9uZW50PjtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VBdG9taXhDb21wb25lbnQ8XG4gIEVsZW1lbnQgZXh0ZW5kcyB7XG4gICAgbmV3ICguLi5hcmdzOiBhbnlbXSk6IEhUTUxFbGVtZW50O1xuICB9XG4+KGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgZWxlbWVudCB7XG4gICAgLy8gQ3ljbGVzIHN5c3RlbVxuICAgIF9jeWNsZXM6IEFycmF5PCgpID0+IGFueT4gPSBbXTtcbiAgICBfbmFtZWRDeWNsZXM6IFJlY29yZDxzdHJpbmcsICgpID0+IGFueT4gPSB7fTtcbiAgICBsYXp5bG9hZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGxvYWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoLi4uYXJnczogYW55W10pIHtcbiAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgaWYgKHRoaXMubGF6eWxvYWQpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0Q29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgdGhyZXNob2xkOiAwLjEgfVxuICAgICAgICApO1xuXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaW5pdENvbXBvbmVudCgpLCAxKTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmICh0aGlzLmxvYWRlZCkge1xuICAgICAgICB0aGlzLm9uRGVzdHJveT8uKCk7XG4gICAgICAgIHRoaXMuY2xlYXJDeWNsZXM/LigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRDb21wb25lbnQoKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICB0aGlzLnN0YXJ0Py4oKTtcblxuICAgICAgaWYgKHRoaXMuYV9vbmNsaWNrKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYV9vbmNsaWNrKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYV9vbnN1Ym1pdCkge1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5hX29uc3VibWl0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYV9vbmNoYW5nZSkge1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy5hX29uY2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBdG9taXggYXV0byBzdWJzY3JpYmVkIGV2ZW50c1xuICAgIGFfb25jbGljaz8oZXY6IEV2ZW50KTogdm9pZDtcbiAgICBhX29uc3VibWl0PyhldjogRXZlbnQpOiB2b2lkO1xuICAgIGFfb25jaGFuZ2U/KGV2OiBFdmVudCk6IHZvaWQ7XG5cbiAgICBzdGF0ZVN1YnNjcmliZTxUeXBlPihcbiAgICAgIHN0YXRlU3Vic2NyaWJlQ2FsbGJhY2s6IChcbiAgICAgICAgY2I6ICh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+XG4gICAgICApID0+ICgpID0+IHZvaWQsXG4gICAgICBjYWxsYmFjazogKHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD5cbiAgICApIHtcbiAgICAgIHRoaXMuY3ljbGUoKCkgPT4gc3RhdGVTdWJzY3JpYmVDYWxsYmFjayhjYWxsYmFjaykpO1xuICAgIH1cblxuICAgIC8vIEN5Y2xlc1xuICAgIGN5Y2xlKGNiOiBBZGRDeWNsZUZuKSB7XG4gICAgICBsZXQgZm4gPSBjYigpO1xuXG4gICAgICBpZiAoZm4gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIGZuLnRoZW4oKGZuKSA9PiB0aGlzLl9jeWNsZXMucHVzaChmbikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY3ljbGVzLnB1c2goZm4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyQ3ljbGVzKCkge1xuICAgICAgdGhpcy5fY3ljbGVzLm1hcCgoY2IpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gY2IoKTtcbiAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXMudGhlbigoKSA9PiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9uYW1lZEN5Y2xlcyk7XG4gICAgICAvLyB1bm1vdW50IG5hbWVkIGN5Y2xlc1xuICAgICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fbmFtZWRDeWNsZXNba2V5XSgpO1xuICAgICAgICBpZiAocmVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJlcy50aGVuKCgpID0+IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fY3ljbGVzID0gW107XG4gICAgICB0aGlzLl9uYW1lZEN5Y2xlcyA9IHt9O1xuICAgIH1cblxuICAgIC8vIE5hbWVkIGN5Y2xlc1xuICAgIG5hbWVkQ3ljbGUobmFtZTogc3RyaW5nLCBjYjogQWRkQ3ljbGVGbikge1xuICAgICAgLy8gdW5tb3V0IHByZXZpb3VzIGN5Y2xlXG4gICAgICBpZiAodGhpcy5fbmFtZWRDeWNsZXNbbmFtZV0pIHtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fbmFtZWRDeWNsZXNbbmFtZV0oKTtcbiAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXMudGhlbigoKSA9PiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGZuID0gY2IoKTtcblxuICAgICAgaWYgKGZuIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBmbi50aGVuKChmbikgPT4gKHRoaXMuX25hbWVkQ3ljbGVzW25hbWVdID0gZm4pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX25hbWVkQ3ljbGVzW25hbWVdID0gZm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogZmluaXNoIHRoaXNcbiAgICAvLyBzdGF0aWMgYXR0YWNoKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgc3RyaW5nKSB7XG4gICAgLy8gICBjb25zdCBlbCA9XG4gICAgLy8gICAgIHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiXG4gICAgLy8gICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihlbGVtZW50KVxuICAgIC8vICAgICAgIDogZWxlbWVudDtcblxuICAgIC8vICAgaWYgKCFlbCkge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgbm90IGZvdW5kOiAke2VsZW1lbnR9YCk7XG4gICAgLy8gICB9XG5cbiAgICAvLyAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyB0aGlzKCk7XG4gICAgLy8gICBjb21wb25lbnQuc3RhcnQ/LigpO1xuICAgIC8vICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAvLyB9XG5cbiAgICAvLyBMaWZlY3ljbGVcbiAgICBzdGFydD8oKTogdm9pZDtcbiAgICBvbkRlc3Ryb3k/KCk6IHZvaWQ7XG5cbiAgICAvLyBMb2dnZXIgbWV0aG9kc1xuICAgIHN0YXRpYyBsb2dnZXIoLi4uYXJnczogYW55W10pIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhgW05PVCBJTVBMRU1FTlRFRF1gLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBsb2dnZXIoLi4uYXJnczogYW55W10pIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhgWyR7dGhpcy50YWdOYW1lfV1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH07XG59XG4iLAogICIvLyBEZWZpbmUgcG9zc2libGUgc3RvcmFnZSB0eXBlc1xuZXhwb3J0IHR5cGUgU3RvcmFnZVR5cGUgPSBcImxvY2FsXCIgfCBcInNlc3Npb25cIiB8IFwicmFtXCI7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YXRlIG1hbmFnZW1lbnQgc3lzdGVtIHdpdGggb3B0aW9uYWwgcGVyc2lzdGVuY2UuXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIC0gVGhlIGluaXRpYWwgdmFsdWUgb2YgdGhlIHN0YXRlLlxuICogQHBhcmFtIGtleSAtIE9wdGlvbmFsIGtleSBmb3Igc3RvcmluZyB0aGUgc3RhdGUgaW4gbG9jYWxTdG9yYWdlIG9yIHNlc3Npb25TdG9yYWdlLlxuICogQHBhcmFtIHN0b3JhZ2VUeXBlIC0gRGVmaW5lcyB3aGVyZSB0aGUgc3RhdGUgaXMgc3RvcmVkOiBpbiBSQU0sIGxvY2FsU3RvcmFnZSwgb3Igc2Vzc2lvblN0b3JhZ2UuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyBmdW5jdGlvbnMgdG8gZ2V0IGFuZCBzZXQgdGhlIHN0YXRlLCBhbmQgdG8gc3Vic2NyaWJlIHRvIHN0YXRlIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUF0b21peFN0YXRlPFR5cGU+KFxuICBpbml0aWFsVmFsdWU6IFR5cGUsXG4gIGtleT86IHN0cmluZyxcbiAgc3RvcmFnZVR5cGU6IFN0b3JhZ2VUeXBlID0gXCJyYW1cIlxuKSB7XG4gIGNvbnN0IGxpc3RlbmVyczogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICAodmFsdWU6IFR5cGUsIG9sZFZhbHVlOiBUeXBlKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPlxuICA+ID0ge307XG4gIGxldCB2YWx1ZSA9XG4gICAgc3RvcmFnZVR5cGUgPT09IFwicmFtXCJcbiAgICAgID8gaW5pdGlhbFZhbHVlXG4gICAgICA6IGdldFN0b3JlZFZhbHVlKGtleSwgaW5pdGlhbFZhbHVlLCBzdG9yYWdlVHlwZSk7XG5cbiAgLy8gUmV0cmlldmVzIHN0b3JlZCB2YWx1ZSBmcm9tIGxvY2FsU3RvcmFnZSBvciBzZXNzaW9uU3RvcmFnZS5cbiAgZnVuY3Rpb24gZ2V0U3RvcmVkVmFsdWUoXG4gICAga2V5OiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgZGVmYXVsdFZhbHVlOiBUeXBlLFxuICAgIHR5cGU6IFN0b3JhZ2VUeXBlXG4gICk6IFR5cGUge1xuICAgIGlmICgha2V5KSByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXG4gICAgY29uc3QgaXRlbSA9ICh0eXBlID09PSBcImxvY2FsXCIgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZSkuZ2V0SXRlbShcbiAgICAgIGtleVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZW0gPyBKU09OLnBhcnNlKGl0ZW0pIDogZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLy8gU3RvcmVzIHRoZSB2YWx1ZSBpbiBsb2NhbFN0b3JhZ2Ugb3Igc2Vzc2lvblN0b3JhZ2UuXG4gIGZ1bmN0aW9uIHN0b3JlVmFsdWUoXG4gICAga2V5OiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgbmV3VmFsdWU6IFR5cGUsXG4gICAgdHlwZTogU3RvcmFnZVR5cGVcbiAgKSB7XG4gICAgaWYgKHR5cGUgPT09IFwicmFtXCIgfHwgIWtleSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3RvcmFnZSA9IHR5cGUgPT09IFwibG9jYWxcIiA/IGxvY2FsU3RvcmFnZSA6IHNlc3Npb25TdG9yYWdlO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlKSk7XG4gIH1cblxuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHZhbHVlO1xuICBjb25zdCBzZXRWYWx1ZSA9IChuZXdWYWx1ZTogVHlwZSkgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdmFsdWU7XG4gICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBzdG9yZVZhbHVlKGtleSwgbmV3VmFsdWUsIHN0b3JhZ2VUeXBlKTtcbiAgICBPYmplY3QudmFsdWVzKGxpc3RlbmVycykuZm9yRWFjaCgoY2IpID0+IGNiKHZhbHVlLCBvbGRWYWx1ZSkpO1xuICB9O1xuXG4gIC8vIFN1YnNjcmliZXMgYSBjYWxsYmFjayB0byBzdGF0ZSBjaGFuZ2VzLlxuICBjb25zdCBzdWJzY3JpYmUgPSAoXG4gICAgY2I6ICh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+XG4gICkgPT4ge1xuICAgIGNvbnN0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpO1xuICAgIGxpc3RlbmVyc1tpZF0gPSBjYjtcbiAgICBjYih2YWx1ZSwgdmFsdWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgbGlzdGVuZXJzW2lkXTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiB7IGdldDogZ2V0VmFsdWUsIHNldDogc2V0VmFsdWUsIHN1YnNjcmliZSB9IGFzIGNvbnN0O1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIHVzaW5nIHN0YXRlIG1hbmFnZWQgYnkgY3JlYXRlQXRvbWl4U3RhdGUgaW4gbWVtb3J5LlxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSAtIFRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBzdGF0ZS5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIGZ1bmN0aW9ucyB0byBnZXQgYW5kIHNldCB0aGUgc3RhdGUsIGFuZCB0byBzdWJzY3JpYmUgdG8gc3RhdGUgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUF0b21peFN0YXRlPFR5cGU+KGluaXRpYWxWYWx1ZTogVHlwZSkge1xuICByZXR1cm4gY3JlYXRlQXRvbWl4U3RhdGUoaW5pdGlhbFZhbHVlKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciB1c2luZyBzdGF0ZSBtYW5hZ2VkIGJ5IGNyZWF0ZUF0b21peFN0YXRlIHdpdGggYnJvd3NlciBzdG9yYWdlLlxuICogQHBhcmFtIGtleSAtIEtleSBmb3Igc3RvcmluZyB0aGUgc3RhdGUgaW4gbG9jYWxTdG9yYWdlIG9yIHNlc3Npb25TdG9yYWdlLlxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSAtIFRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBzdGF0ZS5cbiAqIEBwYXJhbSBzdG9yYWdlVHlwZSAtIFR5cGUgb2YgYnJvd3NlciBzdG9yYWdlIHRvIHVzZS5cbiAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyBmdW5jdGlvbnMgdG8gZ2V0IGFuZCBzZXQgdGhlIHN0YXRlLCBhbmQgdG8gc3Vic2NyaWJlIHRvIHN0YXRlIGNoYW5nZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBdG9taXhCcm93c2VyU3RhdGU8VHlwZT4oXG4gIGtleTogc3RyaW5nLFxuICBpbml0aWFsVmFsdWU6IFR5cGUsXG4gIHN0b3JhZ2VUeXBlOiBTdG9yYWdlVHlwZVxuKSB7XG4gIHJldHVybiBjcmVhdGVBdG9taXhTdGF0ZShpbml0aWFsVmFsdWUsIGtleSwgc3RvcmFnZVR5cGUpO1xufVxuIiwKICAiaW1wb3J0IHsgdHlwZSBDb21wb25lbnRUeXBlIH0gZnJvbSBcIi4vYXRvbWl4Q29tcG9uZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVXZWJDb21wb25lbnQoXG4gIG5hbWU6IHN0cmluZyxcbiAgY29uc3RydWN0b3I6IHsgbmV3IChlbDogRWxlbWVudCk6IENvbXBvbmVudFR5cGUgfSxcbiAgb3B0aW9ucz86IEVsZW1lbnREZWZpbml0aW9uT3B0aW9uc1xuKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBjb25zdHJ1Y3Rvciwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWJDb21wb25lbnQobmFtZTogc3RyaW5nLCBvcHRpb25zPzogRWxlbWVudERlZmluaXRpb25PcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29uc3RydWN0b3I6IGFueSkge1xuICAgIGRlZmluZVdlYkNvbXBvbmVudChuYW1lLCBjb25zdHJ1Y3Rvciwgb3B0aW9ucyk7XG4gIH07XG59XG4iLAogICJleHBvcnQgZnVuY3Rpb24gZGF0YXNldChzZWxlY3Rvcj86IHN0cmluZykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHlLZXksIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBkYXRhIGF0dHJpYnV0ZSBpZiBhdmFpbGFibGVcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YXNldCA/IHRoaXMuZGF0YXNldFtzZWxlY3RvciB8fCBwcm9wZXJ0eUtleV0gOiBudWxsO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIC8vIFNldCB2YWx1ZXMgaW4gY29ubmVjdGVkQ2FsbGJhY2sgdG8gYXZvaWQgZXJyb3JzXG4gICAgICAgIGNvbnN0IGluaXREYXRhc2V0VmFsdWUgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQgJiYgdGhpcy5kYXRhc2V0KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFzZXRbc2VsZWN0b3IgfHwgcHJvcGVydHlLZXldID0gbmV3VmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoaW5pdERhdGFzZXRWYWx1ZSwgMCk7IC8vIFJldHJ5IGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGluaXREYXRhc2V0VmFsdWUoKTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eUtleSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gKCkge30sXG4gICAgfSk7XG4gIH07XG59XG4iCiAgXSwKICAibWFwcGluZ3MiOiAiQUFLTyxTQUFTLENBSWYsQ0FBQyxFQUFrQixDQUNsQixPQUFPLGNBQWMsQ0FBUSxDQUUzQixRQUE0QixDQUFDLEVBQzdCLGFBQTBDLENBQUMsRUFDM0MsU0FBb0IsR0FDcEIsT0FBa0IsR0FFbEIsV0FBVyxJQUFJLEVBQWEsQ0FDMUIsTUFBTSxHQUFHLENBQUksRUFHZixpQkFBaUIsRUFBRyxDQUNsQixHQUFJLEtBQUssU0FBVSxDQUNqQixNQUFNLEVBQVcsSUFBSSxxQkFDbkIs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
