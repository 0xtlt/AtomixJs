var J=function(D,h,B,O){var _=arguments.length,q=_<3?h:O===null?O=Object.getOwnPropertyDescriptor(h,B):O,E;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")q=Reflect.decorate(D,h,B,O);else for(var G=D.length-1;G>=0;G--)if(E=D[G])q=(_<3?E(q):_>3?E(h,B,q):E(h,B))||q;return _>3&&q&&Object.defineProperty(h,B,q),q};function R(D){return class extends D{_cycles=[];_namedCycles={};lazyload=!1;loaded=!1;constructor(...h){super(...h)}connectedCallback(){if(this.lazyload){new IntersectionObserver((B)=>{B.forEach((O)=>{if(O.isIntersecting)this.initComponent()})},{threshold:0.1}).observe(this);return}setTimeout(()=>this.initComponent(),1)}disconnectedCallback(){if(this.loaded)this.onDestroy?.(),this.clearCycles?.()}initComponent(){if(this.loaded=!0,this.start?.(),this.a_onclick)this.addEventListener("click",this.a_onclick);if(this.a_onsubmit)this.addEventListener("submit",this.a_onsubmit);if(this.a_onchange)this.addEventListener("change",this.a_onchange)}stateSubscribe(h,B){this.cycle(()=>h(B))}cycle(h){let B=h();if(B instanceof Promise)B.then((O)=>this._cycles.push(O));else this._cycles.push(B)}clearCycles(){this._cycles.map((B)=>{const O=B();if(O instanceof Promise)O.then(()=>null)}),Object.keys(this._namedCycles).forEach((B)=>{const O=this._namedCycles[B]();if(O instanceof Promise)O.then(()=>null)}),this._cycles=[],this._namedCycles={}}namedCycle(h,B){if(this._namedCycles[h]){const _=this._namedCycles[h]();if(_ instanceof Promise)_.then(()=>null)}let O=B();if(O instanceof Promise)O.then((_)=>this._namedCycles[h]=_);else this._namedCycles[h]=O}static logger(...h){console.info("[NOT IMPLEMENTED]",...h)}logger(...h){console.info(`[${this.tagName}]`,...h)}}}var K=R(HTMLElement);var U=function(D,h,B="ram"){const O={};let _=B==="ram"?D:q(h,D,B);function q(j,z,F){if(!j)return z;const H=(F==="local"?localStorage:sessionStorage).getItem(j);return H?JSON.parse(H):z}function E(j,z,F){if(F==="ram"||!j)return;(F==="local"?localStorage:sessionStorage).setItem(j,JSON.stringify(z))}return{get:()=>_,set:(j)=>{const z=_;_=j,E(h,j,B),Object.values(O).forEach((F)=>F(_,z))},subscribe:(j)=>{const z=Math.random().toString(36).substring(2,9);return O[z]=j,j(_,_),()=>{delete O[z]}}}};function L(D){return U(D)}function X(D,h,B){customElements.define(D,h,B)}function P(D,h){return function(B){X(D,B,h)}}var{set:Y,subscribe:Q}=L("John");class I extends K{constructor(){super(...arguments)}startedAt;lazyload=!0;start(){this.logger("start"),this.startedAt=new Date,this.printDate(),this.querySelector("input")?.addEventListener("input",(D)=>{if(D.target instanceof HTMLInputElement)Y(D.target?.value)}),this.cycle(()=>{return Q((D)=>{this.querySelector("input").value=D})}),this.stateSubscribe(Q,(D)=>{this.querySelector("input").value=D}),this.cycle(async()=>{const D=setInterval(()=>{this.printDate()},1000);return()=>clearInterval(D)})}onDestroy(){this.logger("destroy")}printDate(){this.querySelector("span").innerHTML=`(Module started at ${this.startedAt?.toISOString()}) The date is: ${new Date}`}}I=J([P("atomix-component")],I);

//# debugId=36A72BF878B470C264756e2164756e21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2F0b21peENvbXBvbmVudC50cyIsICJzcmMvYXRvbWl4U3RhdGUudHMiLCAic3JjL3dlYmNvbXBvbmVudHMudHMiLCAiZXhhbXBsZXMvc2NyaXB0LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgImltcG9ydCB7IHR5cGUgQWRkQ3ljbGVGbiB9IGZyb20gXCIuL2N5Y2xlXCI7XG5cbmV4cG9ydCBjb25zdCBDb21wb25lbnQgPSBtYWtlQXRvbWl4Q29tcG9uZW50KEhUTUxFbGVtZW50KTtcbmV4cG9ydCB0eXBlIENvbXBvbmVudFR5cGUgPSBJbnN0YW5jZVR5cGU8dHlwZW9mIENvbXBvbmVudD47XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQXRvbWl4Q29tcG9uZW50PFxuICBFbGVtZW50IGV4dGVuZHMge1xuICAgIG5ldyAoLi4uYXJnczogYW55W10pOiBIVE1MRWxlbWVudDtcbiAgfVxuPihlbGVtZW50OiBFbGVtZW50KSB7XG4gIHJldHVybiBjbGFzcyBleHRlbmRzIGVsZW1lbnQge1xuICAgIC8vIEN5Y2xlcyBzeXN0ZW1cbiAgICBfY3ljbGVzOiBBcnJheTwoKSA9PiBhbnk+ID0gW107XG4gICAgX25hbWVkQ3ljbGVzOiBSZWNvcmQ8c3RyaW5nLCAoKSA9PiBhbnk+ID0ge307XG4gICAgbGF6eWxvYWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBsb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICBzdXBlciguLi5hcmdzKTtcbiAgICB9XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmICh0aGlzLmxhenlsb2FkKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdENvbXBvbmVudCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgdGhyZXNob2xkOiAwLjEgfVxuICAgICAgICApO1xuXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuaW5pdENvbXBvbmVudCgpLCAxKTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmICh0aGlzLmxvYWRlZCkge1xuICAgICAgICB0aGlzLm9uRGVzdHJveT8uKCk7XG4gICAgICAgIHRoaXMuY2xlYXJDeWNsZXM/LigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRDb21wb25lbnQoKSB7XG4gICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICB0aGlzLnN0YXJ0Py4oKTtcblxuICAgICAgaWYgKHRoaXMuYV9vbmNsaWNrKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYV9vbmNsaWNrKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYV9vbnN1Ym1pdCkge1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5hX29uc3VibWl0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYV9vbmNoYW5nZSkge1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy5hX29uY2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBdG9taXggYXV0byBzdWJzY3JpYmVkIGV2ZW50c1xuICAgIGFfb25jbGljaz8oZXY6IEV2ZW50KTogdm9pZDtcbiAgICBhX29uc3VibWl0PyhldjogRXZlbnQpOiB2b2lkO1xuICAgIGFfb25jaGFuZ2U/KGV2OiBFdmVudCk6IHZvaWQ7XG5cbiAgICBzdGF0ZVN1YnNjcmliZTxUeXBlPihcbiAgICAgIHN0YXRlU3Vic2NyaWJlQ2FsbGJhY2s6IChcbiAgICAgICAgY2I6ICh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+XG4gICAgICApID0+ICgpID0+IHZvaWQsXG4gICAgICBjYWxsYmFjazogKHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD5cbiAgICApIHtcbiAgICAgIHRoaXMuY3ljbGUoKCkgPT4gc3RhdGVTdWJzY3JpYmVDYWxsYmFjayhjYWxsYmFjaykpO1xuICAgIH1cblxuICAgIC8vIEN5Y2xlc1xuICAgIGN5Y2xlKGNiOiBBZGRDeWNsZUZuKSB7XG4gICAgICBsZXQgZm4gPSBjYigpO1xuXG4gICAgICBpZiAoZm4gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIGZuLnRoZW4oKGZuKSA9PiB0aGlzLl9jeWNsZXMucHVzaChmbikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY3ljbGVzLnB1c2goZm4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyQ3ljbGVzKCkge1xuICAgICAgdGhpcy5fY3ljbGVzLm1hcCgoY2IpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gY2IoKTtcbiAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXMudGhlbigoKSA9PiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9uYW1lZEN5Y2xlcyk7XG4gICAgICAvLyB1bm1vdW50IG5hbWVkIGN5Y2xlc1xuICAgICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fbmFtZWRDeWNsZXNba2V5XSgpO1xuICAgICAgICBpZiAocmVzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJlcy50aGVuKCgpID0+IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fY3ljbGVzID0gW107XG4gICAgICB0aGlzLl9uYW1lZEN5Y2xlcyA9IHt9O1xuICAgIH1cblxuICAgIC8vIE5hbWVkIGN5Y2xlc1xuICAgIG5hbWVkQ3ljbGUobmFtZTogc3RyaW5nLCBjYjogQWRkQ3ljbGVGbikge1xuICAgICAgLy8gdW5tb3V0IHByZXZpb3VzIGN5Y2xlXG4gICAgICBpZiAodGhpcy5fbmFtZWRDeWNsZXNbbmFtZV0pIHtcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fbmFtZWRDeWNsZXNbbmFtZV0oKTtcbiAgICAgICAgaWYgKHJlcyBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICByZXMudGhlbigoKSA9PiBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGZuID0gY2IoKTtcblxuICAgICAgaWYgKGZuIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBmbi50aGVuKChmbikgPT4gKHRoaXMuX25hbWVkQ3ljbGVzW25hbWVdID0gZm4pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX25hbWVkQ3ljbGVzW25hbWVdID0gZm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogZmluaXNoIHRoaXNcbiAgICAvLyBzdGF0aWMgYXR0YWNoKGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgc3RyaW5nKSB7XG4gICAgLy8gICBjb25zdCBlbCA9XG4gICAgLy8gICAgIHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiXG4gICAgLy8gICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihlbGVtZW50KVxuICAgIC8vICAgICAgIDogZWxlbWVudDtcblxuICAgIC8vICAgaWYgKCFlbCkge1xuICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoYEVsZW1lbnQgbm90IGZvdW5kOiAke2VsZW1lbnR9YCk7XG4gICAgLy8gICB9XG5cbiAgICAvLyAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyB0aGlzKCk7XG4gICAgLy8gICBjb21wb25lbnQuc3RhcnQ/LigpO1xuICAgIC8vICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAvLyB9XG5cbiAgICAvLyBMaWZlY3ljbGVcbiAgICBzdGFydD8oKTogdm9pZDtcbiAgICBvbkRlc3Ryb3k/KCk6IHZvaWQ7XG5cbiAgICAvLyBMb2dnZXIgbWV0aG9kc1xuICAgIHN0YXRpYyBsb2dnZXIoLi4uYXJnczogYW55W10pIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhgW05PVCBJTVBMRU1FTlRFRF1gLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICBsb2dnZXIoLi4uYXJnczogYW55W10pIHtcbiAgICAgIGNvbnNvbGUuaW5mbyhgWyR7dGhpcy50YWdOYW1lfV1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH07XG59XG4iLAogICIvLyBEZWZpbmUgcG9zc2libGUgc3RvcmFnZSB0eXBlc1xuZXhwb3J0IHR5cGUgU3RvcmFnZVR5cGUgPSBcImxvY2FsXCIgfCBcInNlc3Npb25cIiB8IFwicmFtXCI7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0YXRlIG1hbmFnZW1lbnQgc3lzdGVtIHdpdGggb3B0aW9uYWwgcGVyc2lzdGVuY2UuXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIC0gVGhlIGluaXRpYWwgdmFsdWUgb2YgdGhlIHN0YXRlLlxuICogQHBhcmFtIGtleSAtIE9wdGlvbmFsIGtleSBmb3Igc3RvcmluZyB0aGUgc3RhdGUgaW4gbG9jYWxTdG9yYWdlIG9yIHNlc3Npb25TdG9yYWdlLlxuICogQHBhcmFtIHN0b3JhZ2VUeXBlIC0gRGVmaW5lcyB3aGVyZSB0aGUgc3RhdGUgaXMgc3RvcmVkOiBpbiBSQU0sIGxvY2FsU3RvcmFnZSwgb3Igc2Vzc2lvblN0b3JhZ2UuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyBmdW5jdGlvbnMgdG8gZ2V0IGFuZCBzZXQgdGhlIHN0YXRlLCBhbmQgdG8gc3Vic2NyaWJlIHRvIHN0YXRlIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUF0b21peFN0YXRlPFR5cGU+KFxuICBpbml0aWFsVmFsdWU6IFR5cGUsXG4gIGtleT86IHN0cmluZyxcbiAgc3RvcmFnZVR5cGU6IFN0b3JhZ2VUeXBlID0gXCJyYW1cIlxuKSB7XG4gIGNvbnN0IGxpc3RlbmVyczogUmVjb3JkPFxuICAgIHN0cmluZyxcbiAgICAodmFsdWU6IFR5cGUsIG9sZFZhbHVlOiBUeXBlKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPlxuICA+ID0ge307XG4gIGxldCB2YWx1ZSA9XG4gICAgc3RvcmFnZVR5cGUgPT09IFwicmFtXCJcbiAgICAgID8gaW5pdGlhbFZhbHVlXG4gICAgICA6IGdldFN0b3JlZFZhbHVlKGtleSwgaW5pdGlhbFZhbHVlLCBzdG9yYWdlVHlwZSk7XG5cbiAgLy8gUmV0cmlldmVzIHN0b3JlZCB2YWx1ZSBmcm9tIGxvY2FsU3RvcmFnZSBvciBzZXNzaW9uU3RvcmFnZS5cbiAgZnVuY3Rpb24gZ2V0U3RvcmVkVmFsdWUoXG4gICAga2V5OiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgZGVmYXVsdFZhbHVlOiBUeXBlLFxuICAgIHR5cGU6IFN0b3JhZ2VUeXBlXG4gICk6IFR5cGUge1xuICAgIGlmICgha2V5KSByZXR1cm4gZGVmYXVsdFZhbHVlO1xuXG4gICAgY29uc3QgaXRlbSA9ICh0eXBlID09PSBcImxvY2FsXCIgPyBsb2NhbFN0b3JhZ2UgOiBzZXNzaW9uU3RvcmFnZSkuZ2V0SXRlbShcbiAgICAgIGtleVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZW0gPyBKU09OLnBhcnNlKGl0ZW0pIDogZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLy8gU3RvcmVzIHRoZSB2YWx1ZSBpbiBsb2NhbFN0b3JhZ2Ugb3Igc2Vzc2lvblN0b3JhZ2UuXG4gIGZ1bmN0aW9uIHN0b3JlVmFsdWUoXG4gICAga2V5OiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICAgbmV3VmFsdWU6IFR5cGUsXG4gICAgdHlwZTogU3RvcmFnZVR5cGVcbiAgKSB7XG4gICAgaWYgKHR5cGUgPT09IFwicmFtXCIgfHwgIWtleSkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3RvcmFnZSA9IHR5cGUgPT09IFwibG9jYWxcIiA/IGxvY2FsU3RvcmFnZSA6IHNlc3Npb25TdG9yYWdlO1xuICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlKSk7XG4gIH1cblxuICBjb25zdCBnZXRWYWx1ZSA9ICgpID0+IHZhbHVlO1xuICBjb25zdCBzZXRWYWx1ZSA9IChuZXdWYWx1ZTogVHlwZSkgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdmFsdWU7XG4gICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBzdG9yZVZhbHVlKGtleSwgbmV3VmFsdWUsIHN0b3JhZ2VUeXBlKTtcbiAgICBPYmplY3QudmFsdWVzKGxpc3RlbmVycykuZm9yRWFjaCgoY2IpID0+IGNiKHZhbHVlLCBvbGRWYWx1ZSkpO1xuICB9O1xuXG4gIC8vIFN1YnNjcmliZXMgYSBjYWxsYmFjayB0byBzdGF0ZSBjaGFuZ2VzLlxuICBjb25zdCBzdWJzY3JpYmUgPSAoXG4gICAgY2I6ICh2YWx1ZTogVHlwZSwgb2xkVmFsdWU6IFR5cGUpID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+XG4gICkgPT4ge1xuICAgIGNvbnN0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpO1xuICAgIGxpc3RlbmVyc1tpZF0gPSBjYjtcbiAgICBjYih2YWx1ZSwgdmFsdWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgbGlzdGVuZXJzW2lkXTtcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiB7IGdldDogZ2V0VmFsdWUsIHNldDogc2V0VmFsdWUsIHN1YnNjcmliZSB9IGFzIGNvbnN0O1xufVxuXG4vKipcbiAqIEhvb2sgZm9yIHVzaW5nIHN0YXRlIG1hbmFnZWQgYnkgY3JlYXRlQXRvbWl4U3RhdGUgaW4gbWVtb3J5LlxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSAtIFRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBzdGF0ZS5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIGZ1bmN0aW9ucyB0byBnZXQgYW5kIHNldCB0aGUgc3RhdGUsIGFuZCB0byBzdWJzY3JpYmUgdG8gc3RhdGUgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUF0b21peFN0YXRlPFR5cGU+KGluaXRpYWxWYWx1ZTogVHlwZSkge1xuICByZXR1cm4gY3JlYXRlQXRvbWl4U3RhdGUoaW5pdGlhbFZhbHVlKTtcbn1cblxuLyoqXG4gKiBIb29rIGZvciB1c2luZyBzdGF0ZSBtYW5hZ2VkIGJ5IGNyZWF0ZUF0b21peFN0YXRlIHdpdGggYnJvd3NlciBzdG9yYWdlLlxuICogQHBhcmFtIGtleSAtIEtleSBmb3Igc3RvcmluZyB0aGUgc3RhdGUgaW4gbG9jYWxTdG9yYWdlIG9yIHNlc3Npb25TdG9yYWdlLlxuICogQHBhcmFtIGluaXRpYWxWYWx1ZSAtIFRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBzdGF0ZS5cbiAqIEBwYXJhbSBzdG9yYWdlVHlwZSAtIFR5cGUgb2YgYnJvd3NlciBzdG9yYWdlIHRvIHVzZS5cbiAqIEByZXR1cm5zIEEgdHVwbGUgY29udGFpbmluZyBmdW5jdGlvbnMgdG8gZ2V0IGFuZCBzZXQgdGhlIHN0YXRlLCBhbmQgdG8gc3Vic2NyaWJlIHRvIHN0YXRlIGNoYW5nZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBdG9taXhCcm93c2VyU3RhdGU8VHlwZT4oXG4gIGtleTogc3RyaW5nLFxuICBpbml0aWFsVmFsdWU6IFR5cGUsXG4gIHN0b3JhZ2VUeXBlOiBTdG9yYWdlVHlwZVxuKSB7XG4gIHJldHVybiBjcmVhdGVBdG9taXhTdGF0ZShpbml0aWFsVmFsdWUsIGtleSwgc3RvcmFnZVR5cGUpO1xufVxuIiwKICAiaW1wb3J0IHsgdHlwZSBDb21wb25lbnRUeXBlIH0gZnJvbSBcIi4vYXRvbWl4Q29tcG9uZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVXZWJDb21wb25lbnQoXG4gIG5hbWU6IHN0cmluZyxcbiAgY29uc3RydWN0b3I6IHsgbmV3IChlbDogRWxlbWVudCk6IENvbXBvbmVudFR5cGUgfSxcbiAgb3B0aW9ucz86IEVsZW1lbnREZWZpbml0aW9uT3B0aW9uc1xuKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBjb25zdHJ1Y3Rvciwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWJDb21wb25lbnQobmFtZTogc3RyaW5nLCBvcHRpb25zPzogRWxlbWVudERlZmluaXRpb25PcHRpb25zKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29uc3RydWN0b3I6IGFueSkge1xuICAgIGRlZmluZVdlYkNvbXBvbmVudChuYW1lLCBjb25zdHJ1Y3Rvciwgb3B0aW9ucyk7XG4gIH07XG59XG4iLAogICJpbXBvcnQgeyBDb21wb25lbnQsIFdlYkNvbXBvbmVudCwgdXNlQXRvbWl4U3RhdGUgfSBmcm9tIFwiLi4vbGliXCI7XG5cbmNvbnN0IHsgc2V0OiBzZXROYW1lLCBzdWJzY3JpYmU6IHN1YnNjcmliZU5hbWUgfSA9IHVzZUF0b21peFN0YXRlKFwiSm9oblwiKTtcblxuQFdlYkNvbXBvbmVudChcImF0b21peC1jb21wb25lbnRcIilcbmNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhcnRlZEF0OiBEYXRlIHwgdW5kZWZpbmVkO1xuICBsYXp5bG9hZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5sb2dnZXIoXCJzdGFydFwiKTtcbiAgICB0aGlzLnN0YXJ0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgdGhpcy5wcmludERhdGUoKTtcblxuICAgIHRoaXMucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PihcImlucHV0XCIpPy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgKGV2KSA9PiB7XG4gICAgICAgIGlmIChldi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSBzZXROYW1lKGV2LnRhcmdldD8udmFsdWUpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICB0aGlzLmN5Y2xlKCgpID0+IHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmVOYW1lKChuYW1lKSA9PiB7XG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PihcImlucHV0XCIpIS52YWx1ZSA9IG5hbWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyBPUlxuICAgIHRoaXMuc3RhdGVTdWJzY3JpYmUoc3Vic2NyaWJlTmFtZSwgKG5hbWUpID0+IHtcbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PihcImlucHV0XCIpIS52YWx1ZSA9IG5hbWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLmN5Y2xlKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGkgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMucHJpbnREYXRlKCk7XG4gICAgICB9LCAxMDAwKTtcblxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaSk7XG4gICAgfSk7XG4gIH1cblxuICBvbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5sb2dnZXIoXCJkZXN0cm95XCIpO1xuICB9XG5cbiAgLy8gQ3VzdG9tIG1ldGhvZFxuICBwcmludERhdGUoKSB7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCJzcGFuXCJcbiAgICApIS5pbm5lckhUTUwgPSBgKE1vZHVsZSBzdGFydGVkIGF0ICR7dGhpcy5zdGFydGVkQXQ/LnRvSVNPU3RyaW5nKCl9KSBUaGUgZGF0ZSBpczogJHtuZXcgRGF0ZSgpfWA7XG4gIH1cbn1cbiIKICBdLAogICJtYXBwaW5ncyI6ICJBQUtPLFNBQVMsQ0FJZixDQUFDLEVBQWtCLENBQ2xCLE9BQU8sY0FBYyxDQUFRLENBRTNCLFFBQTRCLENBQUMsRUFDN0IsYUFBMEMsQ0FBQyxFQUMzQyxTQUFvQixHQUNwQixPQUFrQixHQUVsQixXQUFXLElBQUksRUFBYSxDQUMxQixNQUFNLEdBQUcsQ0FBSSxFQUdmLGlCQUFpQixFQUFHLENBQ2xCLEdBQUksS0FBSyxTQUFVLENBWWpCLEFBWGlCLElBQUkscUJBQ25CLENBQUMsSUFBWSxDQUNYLEVBQVEsUUFBUSxDQUFDLElBQVUsQ0FDekIsR0FBSSxFQUFNLGVBQ1IsS0FBSyxjQUFjLEVBRXRCLEdBRUgsQ0FBRSxVQUFXLEdBQUksQ0FDbkIsRUFFUyxRQUFRLElBQUksRUFFckIsT0FHRixXQUFXLElBQU0sS0FBSyxjQUFjLEVBQUcsQ0FBQyxFQUcxQyxvQkFBb0IsRUFBRyxDQUNyQixHQUFJLEtBQUssT0FDUCxLQUFLLFlBQVksRUFDakIsS0FBSyxjQUFjLEVBSXZCLGFBQWEsRUFBRyxDQUlkLEdBSEEsS0FBSyxPQUFTLEdBQ2QsS0FBSyxRQUFRLEVBRVQsS0FBSyxVQUNQLEtBQUssaUJBQWlCLFFBQVMsS0FBSyxTQUFTLEVBRy9DLEdBQUksS0FBSyxXQUNQLEtBQUssaUJBQWlCLFNBQVUsS0FBSyxVQUFVLEVBR2pELEdBQUksS0FBSyxXQUNQLEtBQUssaUJBQWlCLFNBQVUsS0FBSyxVQUFVLEVBU25ELGNBQW9CLENBQ2xCLEVBR0EsRUFDQSxDQUNBLEtBQUssTUFBTSxJQUFNLEVBQXVCLENBQVEsQ0FBQyxFQUluRCxLQUFLLENBQUMsRUFBZ0IsQ0FDcEIsSUFBSSxFQUFLLEVBQUcsRUFFWixHQUFJLGFBQWMsUUFDaEIsRUFBRyxLQUFLLENBQUMsSUFBTyxLQUFLLFFBQVEsS0FBSyxDQUFFLENBQUMsTUFFckMsTUFBSyxRQUFRLEtBQUssQ0FBRSxFQUl4QixXQUFXLEVBQUcsQ0FDWixLQUFLLFFBQVEsSUFBSSxDQUFDLElBQU8sQ0FDdkIsTUFBTSxFQUFNLEVBQUcsRUFDZixHQUFJLGFBQWUsUUFDakIsRUFBSSxLQUFLLElBQU0sSUFBSSxFQUV0QixFQUVZLE9BQU8sS0FBSyxLQUFLLFlBQVksRUFFckMsUUFBUSxDQUFDLElBQVEsQ0FDcEIsTUFBTSxFQUFNLEtBQUssYUFBYSxHQUFLLEVBQ25DLEdBQUksYUFBZSxRQUNqQixFQUFJLEtBQUssSUFBTSxJQUFJLEVBRXRCLEVBRUQsS0FBSyxRQUFVLENBQUMsRUFDaEIsS0FBSyxhQUFlLENBQUMsRUFJdkIsVUFBVSxDQUFDLEVBQWMsRUFBZ0IsQ0FFdkMsR0FBSSxLQUFLLGFBQWEsR0FBTyxDQUMzQixNQUFNLEVBQU0sS0FBSyxhQUFhLEdBQU0sRUFDcEMsR0FBSSxhQUFlLFFBQ2pCLEVBQUksS0FBSyxJQUFNLElBQUksRUFHdkIsSUFBSSxFQUFLLEVBQUcsRUFFWixHQUFJLGFBQWMsUUFDaEIsRUFBRyxLQUFLLENBQUMsSUFBUSxLQUFLLGFBQWEsR0FBUSxDQUFHLE1BRTlDLE1BQUssYUFBYSxHQUFRLFFBeUJ2QixPQUFNLElBQUksRUFBYSxDQUM1QixRQUFRLEtBQUssb0JBQXFCLEdBQUcsQ0FBSSxFQUczQyxNQUFNLElBQUksRUFBYSxDQUNyQixRQUFRLEtBQUssSUFBSSxLQUFLLFdBQVksR0FBRyxDQUFJLEVBRTdDLEVBNUpLLElBQU0sRUFBWSxFQUFvQixXQUFXQUNReEQsSUFBUyxVQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFBMkIsTUFDM0IsQ0FDQSxNQUFNLEVBR0YsQ0FBQyxFQUNMLElBQUksRUFDRixJQUFnQixNQUNaLEVBQ0EsRUFBZSxFQUFLLEVBQWMsQ0FBVyxFQUduRCxTQUFTLENBQWMsQ0FDckIsRUFDQSxFQUNBLEVBQ00sQ0FDTixJQUFLLEVBQUssT0FBTyxFQUVqQixNQUFNLEdBQVEsSUFBUyxRQUFVLGFBQWUsZ0JBQWdCLFFBQzlELENBQ0YsRUFDQSxPQUFPLEVBQU8sS0FBSyxNQUFNLENBQUksRUFBSSxFQUluQyxTQUFTLENBQVUsQ0FDakIsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLElBQVMsUUFBVSxFQUFLLE9BRzVCLENBRGdCLElBQVMsUUFBVSxhQUFlLGdCQUMxQyxRQUFRLEVBQUssS0FBSyxVQUFVLENBQVEsQ0FBQyxFQXVCL0MsTUFBTyxDQUFFLElBcEJRLElBQU0sRUFvQkMsSUFuQlAsQ0FBQyxJQUFtQixDQUNuQyxNQUFNLEVBQVcsRUFDakIsRUFBUSxFQUNSLEVBQVcsRUFBSyxFQUFVLENBQVcsRUFDckMsT0FBTyxPQUFPLENBQVMsRUFBRSxRQUFRLENBQUMsSUFBTyxFQUFHLEVBQU8sQ0FBUSxDQUFDLEdBZXZCLFVBWHJCLENBQ2hCLElBQ0csQ0FDSCxNQUFNLEVBQUssS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsVUFBVSxFQUFHLENBQUMsRUFHcEQsT0FGQSxFQUFVLEdBQU0sRUFDaEIsRUFBRyxFQUFPLENBQUssRUFDUixJQUFNLENBQ1gsT0FBTyxFQUFVLElBSTRCLEdBUTVDLFNBQVMsQ0FBb0IsQ0FBQyxFQUFvQixDQUN2RCxPQUFPLEVBQWtCLENBQVlBQzdFaEMsU0FBUyxDQUFrQixDQUNoQyxFQUNBLEVBQ0EsRUFDQSxDQUNBLGVBQWUsT0FBTyxFQUFNLEVBQWEsQ0FBTyxFQUczQyxTQUFTLENBQVksQ0FBQyxFQUFjLEVBQW9DLENBQzdFLGVBQWdCLENBQUMsRUFBa0IsQ0FDakMsRUFBbUIsRUFBTSxFQUFhLENBQU9BQ1ZqRCxJQUFRLElBQUssRUFBUyxVQUFXLEdBQWtCLEVBQWUsTUFBTSxFQUd4RSxNQUFNLFVBQW9CLENBQVUsQ0FBcEMsa0NBQ0UsVUFDQSxTQUFvQixHQUVwQixLQUFLLEVBQUcsQ0FDTixLQUFLLE9BQU8sT0FBTyxFQUNuQixLQUFLLFVBQVksSUFBSSxLQUNyQixLQUFLLFVBQVUsRUFFZixLQUFLLGNBQWdDLE9BQU8sR0FBRyxpQkFDN0MsUUFDQSxDQUFDLElBQU8sQ0FDTixHQUFJLEVBQUcsa0JBQWtCLGlCQUFrQixFQUFRLEVBQUcsUUFBUSxLQUFLLEVBRXZFLEVBRUEsS0FBSyxNQUFNLElBQU0sQ0FDZixPQUFPLEVBQWMsQ0FBQyxJQUFTLENBQzdCLEtBQUssY0FBZ0MsT0FBTyxFQUFHLE1BQVEsRUFDeEQsRUFDRixFQUVELEtBQUssZUFBZSxFQUFlLENBQUMsSUFBUyxDQUMzQyxLQUFLLGNBQWdDLE9BQU8sRUFBRyxNQUFRLEVBQ3hELEVBRUQsS0FBSyxNQUFNLFNBQVksQ0FDckIsTUFBTSxFQUFJLFlBQVksSUFBTSxDQUMxQixLQUFLLFVBQVUsR0FDZCxJQUFJLEVBRVAsTUFBTyxJQUFNLGNBQWMsQ0FBQyxFQUM3QixFQUdILFNBQVMsRUFBRyxDQUNWLEtBQUssT0FBTyxTQUFTLEVBSXZCLFNBQVMsRUFBRyxDQUNWLEtBQUssY0FDSCxNQUNGLEVBQUcsVUFBWSxzQkFBc0IsS0FBSyxXQUFXLFlBQVksbUJBQW1CLElBQUksT0FFNUYsQ0E3Q00sRUFBTixHQURDLEVBQWEsa0JBQWtCLEdBQzFCIiwKICAiZGVidWdJZCI6ICIzNkE3MkJGODc4QjQ3MEMyNjQ3NTZlMjE2NDc1NmUyMSIsCiAgIm5hbWVzIjogW10KfQ==
